[DEFAULT]
{%if NFS == True%}
vault_storage_nfs_export = {{ NFS_SHARES|join(",") }}
vault_storage_nfs_options = {{NFS_OPTIONS}}
vault_storage_type = nfs
{%elif S3 == True and s3_type == Amazon %}
vault_storage_type = s3
vault_s3_auth_version = DEFAULT
vault_s3_access_key_id = {{VAULT_S3_ACCESS_KEY}}
vault_s3_secret_access_key = {{VAULT_S3_SECRET_ACCESS_KEY}}
vault_s3_region_name = {{VAULT_S3_REGION_NAME}}
vault_s3_bucket = {{VAULT_S3_BUCKET}}
vault_s3_signature_version = {{VAULT_S3_SIGNATURE_VERSION}}
vault_data_directory_old = {{TVAULT_DATA_DIR_OLD}}
vault_data_directory = {{TVAULT_DATA_DIR}}
{%elif S3 == True and s3_type == Other_S3_Compatible %}
vault_storage_type = s3
vault_s3_auth_version = DEFAULT
vault_s3_access_key_id = {{VAULT_S3_ACCESS_KEY}}
vault_s3_secret_access_key = {{VAULT_S3_SECRET_ACCESS_KEY}}
vault_s3_region_name = {{VAULT_S3_REGION_NAME}}
vault_s3_bucket = {{VAULT_S3_BUCKET}}
vault_s3_endpoint_url = {{VAULT_S3_ENDPOINT_URL}}
vault_s3_signature_version = {{VAULT_S3_SIGNATURE_VERSION}}
vault_s3_ssl = {{VAULT_S3_SECURE}}
vault_s3_ssl_cert = {{VAULT_S3_SSL_CERT}}
{%endif%}

log_file = /var/log/tvault-contego/tvault-contego.log
debug = False
verbose = True
max_uploads_pending = 3
max_commit_pending = 3
dmapi_transport_url = {{tvault_vars.dmapi_transport_url}}

[dmapi_database]
connection = {{tvault_vars.dmapi_database_connection}}

[contego_sys_admin]
helper_command = sudo {{privsep_bin_path.stdout}}

[conductor]
use_local = True

[oslo_messaging_rabbit]
ssl = {{tvault_vars.rabbit_ssl}}
